<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>zkVaxCard - Hunter Chang</title><meta content="zkVaxCard æ˜¯ä¸€å€‹å¯ä»¥å¹«åŠ©äººå€‘åœ¨ã€Œä¸æ­éœ²ä»»ä½•å€‹äººè³‡è¨Šå¦‚èº«åˆ†è­‰å­—è™Ÿã€å€‹äººç…§ç‰‡æˆ–å¥ä¿å¡å¡è™Ÿã€ä¹‹æƒ…æ³ä¸‹ã€Œè­‰æ˜è‡ªå·±æœ‰æ¥ç¨®éç–«è‹—ã€ä¹‹ç³»çµ±ï¼Œä»¥ React.js ç‚ºå‰ç«¯é–‹ç™¼çš„æ¡†æ¶ã€json-server ä½œç‚ºä¸€å€‹éå¸¸è‡¨æ™‚çš„å¾Œç«¯è³‡æ–™åº«ï¼Œä¸¦ä»¥ Semaphore protocol ä½œç‚ºå…¶èƒŒå¾Œçš„é›¶çŸ¥è­˜è­‰æ˜æŠ€è¡“" name="description"/><meta property="og:url" content="https://foodchain.eth.xyz/posts/ZKPlayground"/><link rel="canonical" href="https://foodchain.eth.xyz/posts/ZKPlayground"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Hunter Chang - Website"/><meta property="og:description" content="zkVaxCard æ˜¯ä¸€å€‹å¯ä»¥å¹«åŠ©äººå€‘åœ¨ã€Œä¸æ­éœ²ä»»ä½•å€‹äººè³‡è¨Šå¦‚èº«åˆ†è­‰å­—è™Ÿã€å€‹äººç…§ç‰‡æˆ–å¥ä¿å¡å¡è™Ÿã€ä¹‹æƒ…æ³ä¸‹ã€Œè­‰æ˜è‡ªå·±æœ‰æ¥ç¨®éç–«è‹—ã€ä¹‹ç³»çµ±ï¼Œä»¥ React.js ç‚ºå‰ç«¯é–‹ç™¼çš„æ¡†æ¶ã€json-server ä½œç‚ºä¸€å€‹éå¸¸è‡¨æ™‚çš„å¾Œç«¯è³‡æ–™åº«ï¼Œä¸¦ä»¥ Semaphore protocol ä½œç‚ºå…¶èƒŒå¾Œçš„é›¶çŸ¥è­˜è­‰æ˜æŠ€è¡“"/><meta property="og:title" content="zkVaxCard - Hunter Chang"/><meta property="og:image" content="https:foochain1028.eth.xyzundefined"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@huntarosan"/><meta name="twitter:title" content="zkVaxCard - Hunter Chang"/><meta name="twitter:description" content="zkVaxCard æ˜¯ä¸€å€‹å¯ä»¥å¹«åŠ©äººå€‘åœ¨ã€Œä¸æ­éœ²ä»»ä½•å€‹äººè³‡è¨Šå¦‚èº«åˆ†è­‰å­—è™Ÿã€å€‹äººç…§ç‰‡æˆ–å¥ä¿å¡å¡è™Ÿã€ä¹‹æƒ…æ³ä¸‹ã€Œè­‰æ˜è‡ªå·±æœ‰æ¥ç¨®éç–«è‹—ã€ä¹‹ç³»çµ±ï¼Œä»¥ React.js ç‚ºå‰ç«¯é–‹ç™¼çš„æ¡†æ¶ã€json-server ä½œç‚ºä¸€å€‹éå¸¸è‡¨æ™‚çš„å¾Œç«¯è³‡æ–™åº«ï¼Œä¸¦ä»¥ Semaphore protocol ä½œç‚ºå…¶èƒŒå¾Œçš„é›¶çŸ¥è­˜è­‰æ˜æŠ€è¡“"/><meta name="twitter:image" content="https:foochain1028.eth.xyzundefined"/><meta property="article:published_time" content="2023-02-08"/><meta name="next-head-count" content="17"/><link rel="preload" href="/_next/static/css/2210cfa2dfbe0bba.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2210cfa2dfbe0bba.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-9b312e20a4e32339.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-153ca532c98eee0d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8c286cbce58fc284.js" defer=""></script><script src="/_next/static/chunks/306-faf99b336d274355.js" defer=""></script><script src="/_next/static/chunks/358-59e534127f537b93.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-7d56ef00b8f0fda5.js" defer=""></script><script src="/_next/static/fPKTQDa0a-U9S5M31bDk1/_buildManifest.js" defer=""></script><script src="/_next/static/fPKTQDa0a-U9S5M31bDk1/_ssgManifest.js" defer=""></script></head><body class="bg-white dark:bg-black text-gray-900 dark:text-white"><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if(e){c.add(e|| '')}else{c.add('dark');}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'dark'}catch(t){}}();</script><header><div class="max-w-5xl px-8 mx-auto"><div class="flex items-center justify-between py-6"><nav><a class="text-gray-900 dark:text-yellow-200 pr-6 py-4" href="/">Home</a><a class="text-gray-900 dark:text-yellow-200 px-6 py-4" href="/projects">Projects</a><a class="text-gray-900 dark:text-yellow-200 px-6 py-4" href="/posts">Posts</a></nav></div></div></header><main><div class="max-w-5xl px-8 py-4 mx-auto"><article><h1 class="mb-3 text-gray-900 dark:text-white">zkVaxCard</h1><p class="mb-10 text-sm text-gray-500 dark:text-gray-400">February 08, 2023</p><div class="prose dark:prose-dark"><h2 id="zkplayground-project"><a class="anchor" href="#zkplayground-project"><span class="icon icon-link"></span></a>ZKPlayground Project</h2>
<p><em>zkVaxCard</em></p>
<blockquote>
<p><em>Author: Fu-Chuan Chung @ swfLAB</em> &gt; <em>æ„Ÿè¬ @Paul review æ­¤ç¯‡æ–‡ç« </em></p>
</blockquote>
<h2 id="ç›®éŒ„"><a class="anchor" href="#ç›®éŒ„"><span class="icon icon-link"></span></a>ç›®éŒ„</h2>
<ul>
<li>å‰è¨€</li>
<li>ç°¡ä»‹</li>
<li>Semaphore ä»‹ç´¹</li>
<li>zkVaxCard ç³»çµ±è¨­è¨ˆ</li>
<li>æŠ€è¡“èªªæ˜</li>
<li>é‡åˆ°çš„ç“¶é ¸</li>
<li>çµè«–</li>
</ul>
<h2 id="å‰è¨€"><a class="anchor" href="#å‰è¨€"><span class="icon icon-link"></span></a>å‰è¨€</h2>
<blockquote>
<p>å‰æƒ…æè¦ï¼šæˆ‘å€‘çš„åŸæœ¬ä¸»é¡Œæƒ³ä½¿ç”¨ SBTï¼ˆSoul Bound Tokenï¼‰ã€semaphore åŠ Tornato Cash èƒŒå¾Œä¹‹é›¶çŸ¥è­˜è­‰æ˜æŠ€è¡“ï¼Œä½†å¾Œä¾†å› æ™‚é–“èˆ‡èƒ½åŠ›å•é¡Œæ›´æ”¹æˆæœ€å¾Œçš„å°ˆæ¡ˆã€‚</p>
</blockquote>
<p>ZKPlayground æ˜¯ç”±ä»¥å¤ªåŠåŸºé‡‘æœƒåœ¨èƒŒå¾Œæ¨å‹•çš„æ´»å‹•ï¼Œå…§å®¹åŒ…å«è¬›å¸«æ•™æˆé›¶çŸ¥è­˜ç›¸é—œçŸ¥è­˜èˆ‡æ‡‰ç”¨ï¼Œè€Œæœ¬æ–‡æœƒä»‹ç´¹é—œæ–¼ SWF Lab åƒåŠ æˆå“¡ï¼ˆFoodchainã€yanlongã€noomaã€iverï¼‰å››äººåœ¨æ­¤æ´»å‹•ä¸­å®Œæˆçš„ä¸€é …å°ˆæ¡ˆ - <strong>zkVaxCard</strong>ã€‚</p>
<h2 id="ç°¡ä»‹"><a class="anchor" href="#ç°¡ä»‹"><span class="icon icon-link"></span></a>ç°¡ä»‹</h2>
<p><strong>zkVaxCard</strong> æ˜¯ä¸€å€‹å¯ä»¥å¹«åŠ©äººå€‘åœ¨ã€Œä¸æ­éœ²ä»»ä½•å€‹äººè³‡è¨Šå¦‚èº«åˆ†è­‰å­—è™Ÿã€å€‹äººç…§ç‰‡æˆ–å¥ä¿å¡å¡è™Ÿã€ä¹‹æƒ…æ³ä¸‹ã€Œè­‰æ˜è‡ªå·±æœ‰æ¥ç¨®éç–«è‹—ã€ä¹‹ç³»çµ±ï¼Œä»¥ React.js ç‚ºå‰ç«¯é–‹ç™¼çš„æ¡†æ¶ã€json-server ä½œç‚ºä¸€å€‹éå¸¸è‡¨æ™‚çš„å¾Œç«¯è³‡æ–™åº«ï¼Œä¸¦ä»¥ Semaphore protocol ä½œç‚ºå…¶èƒŒå¾Œçš„é›¶çŸ¥è­˜è­‰æ˜æŠ€è¡“ï¼ŒåŒæ™‚åƒè€ƒäº† semaphore ä¸Šçš„ç¯„ä¾‹å°ˆæ¡ˆ - <em><a href="https://github.com/semaphore-protocol/boilerplate">Bolierplate</a></em>ã€‚</p>
<blockquote>
<p>æœ¬æ–‡å°‡ä¸æ·±å…¥ semaphore ä¸­ circom é›»è·¯èˆ‡å…¶åŸç†ï¼Œåªæœƒè¬›è¿°å¦‚ä½•ä½¿ç”¨ semaphore å¥—ä»¶èˆ‡å¥—ä»¶ä¸­ç”¨åˆ°çš„ javascript èªæ³•ç­‰ã€‚</p>
</blockquote>
<h1 id="semaphore"><a class="anchor" href="#semaphore"><span class="icon icon-link"></span></a>Semaphore</h1>
<p><a href="https://semaphore.appliedzkp.org/">Semaphore</a> æ˜¯åœ¨ä»¥å¤ªåŠç”Ÿæ…‹ä¸Šé–‹ç™¼çš„ ZKP ç›¸é—œ project ä¹‹ä¸€ï¼Œå¯ä»¥é€é ZKP ä¾†å®Œæˆèº«ä»½çš„èªè­‰ã€‚</p>
<ul>
<li>private: ğŸŒš</li>
<li>public: ğŸŒ</li>
</ul>
<p>åœ¨ semaphore ä¸­æœ‰å¹¾å€‹é‡è¦çš„å…ƒç´ ï¼š</p>
<ol>
<li><strong>identity</strong>ï¼šä¸€çµ„èº«ä»½ï¼Œå…¶ä¸­ç”±ä¸‰å€‹éƒ¨åˆ†çµ„æˆï¼š ğŸŒš nullifierã€ğŸŒš trapdoor èˆ‡ ğŸŒ commitmentã€‚å¯ä»¥æŠŠå®ƒæƒ³åƒæˆåœ¨ Ethereum ä¸Šçš„ä¸€å€‹ç§é‘°ï¼ˆnullifier &amp; trapdoorï¼‰èˆ‡åœ°å€ï¼ˆcommitmentï¼‰çš„é—œä¿‚ã€‚</li>
<li><strong>Group</strong>ï¼šsemaphore åˆ©ç”¨ incremental binary Merkle Treeï¼Œä¾†å„²å­˜åœ¨æŸä¸€åœ˜é«”ä¸­çš„æ¯ä¸€å€‹èº«ä»½ï¼ˆæ„æŒ‡æ¯ä¸€å€‹ Merkle Leaf éƒ½æ˜¯ä¸€å€‹ <code>identity</code>ï¼‰ã€‚åœ¨éˆä¸Šï¼Œæ¯ä¸€æ£µæ¨¹éƒ½æœƒæ“æœ‰è‡ªå·±çš„ç·¨è™Ÿï¼ˆgroup idï¼‰èˆ‡æ¨¹é«˜ï¼ˆtree depthï¼‰ã€‚</li>
<li><strong>ZKproof</strong>ï¼šæ“æœ‰ identity ä¸¦ä¸”åŠ å…¥ä¸€çµ„ group å¾Œï¼Œä¾¿å¯ä»¥ç”¨ circuit ä¾†è¨ˆç®—å‡ºä¸€æ®µ ZKproofã€‚é€éå‚³é€é€™æ®µ proof åˆ°éˆä¸Šçš„åˆç´„ï¼Œä¾¿å¯ä»¥ã€Œ<strong>ä¸æ­éœ²è‡ªå·±çš„åœ°å€</strong>ã€ä½†å»èƒ½ã€Œ<strong>è­‰æ˜è‡ªå·±æ˜¯å­˜åœ¨æ–¼æŸå€‹åœ˜é«”ä¹‹ä¸­</strong>ã€</li>
</ol>
<p>Semaphore å·²ç¶“ç”¨ circom å¯«å¥½ä»–å€‘çš„ circuitï¼Œè©³è¦‹ <em>fig. 1</em>ã€‚</p>
<p><img src="https://i.imgur.com/5sKw3Uo.png" alt=""/>
fig. 1 Circuits in semaphore by <a href="https://github.com/cedoor">Cedoor</a></p>
<hr/>
<p>èˆ‰ä¾‹ä¾†èªªï¼Œsemaphore å¯ä»¥ç”¨ä¾†å»ºç«‹ä¸€å€‹æŠ•ç¥¨ç³»çµ±ï¼š</p>
<p>æŠ•ç¥¨è€…å¯ä»¥é€é semaphore å–å¾—ä¸€çµ„ ğŸŒš <code>identity</code>ï¼ˆ<code>nullifier</code> &amp; <code>trapdoor</code>ï¼‰ï¼Œåˆ©ç”¨ä¸€ä¸² secret è¨ˆç®—å‡ºä¸€å€‹ ğŸŒ commitmentï¼Œä¸¦å°‡æ­¤ ğŸŒ commitment å­˜å…¥åœ¨éˆä¸Šçš„ Merkle Treeï¼ˆGroupï¼‰ï¼ŒåŒæ™‚è¨ˆç®—å‡ºä¸€å€‹æ–°çš„ Merkle Rootã€‚æ¥è‘—ï¼Œç•¶æŠ•ç¥¨çš„æ™‚å€™ï¼ŒæŠ•ç¥¨è€…å‰‡éœ€è¦é€é semaphore ç”¢ç”Ÿå‡º ZKProofï¼Œéš¨å¾Œå°‡æŠ•ç¥¨è³‡è¨Šã€groupIdã€Merkle Rootã€ZKproof ç­‰è³‡æ–™æäº¤åˆ°åœ¨éˆä¸Šçš„ <code>verifyProof()</code>ï¼Œä¾¿å¯ä»¥é©—è­‰æŠ•ç¥¨è€…çš„èº«ä»½ï¼Œä¸¦åœ¨éˆä¸Šå…¬é–‹çš„ç´€éŒ„æŠ•ç¥¨çµæœäº†ã€‚</p>
<p>Semaphore ä¹Ÿåˆ©ç”¨äº†ä¸€å€‹è®Šæ•¸ external nullifier ä¾†é¿å… double signaling ï¼ˆä¾‹ï¼šåŒä¸€çµ„èº«ä»½ä½†æ˜¯æŠ•å…©æ¬¡ç¥¨ï¼‰çš„å•é¡Œï¼Œå¯ä»¥æŠŠå®ƒæƒ³åƒæˆåœ¨ ethereum äº¤æ˜“ä¸­çš„ nonceã€‚</p>
<h2 id="verication-flow"><a class="anchor" href="#verication-flow"><span class="icon icon-link"></span></a>Verication Flow</h2>
<p>æ¥è‘—ä¾†èªªæ˜ zkVaxCard çš„ç³»çµ±æµç¨‹ï¼Œå¯åƒè€ƒ <em>fig. 2</em>ã€‚
<img src="https://i.imgur.com/PcyT88T.png" alt=""/></p>
<p>fig. 2 System design of zkVaxCard</p>
<p>æ•´å€‹ç³»çµ±æˆ‘å€‘åˆ†æˆå…©å€‹éƒ¨åˆ†ï¼š</p>
<ul>
<li>æ³¨å°„çš„é†«å¸«æˆ–å–®ä½ï¼ˆDoctor/ Governmentï¼‰ï¼šé†«ç”Ÿåœ¨é€²è¡Œæ³¨å°„å¾Œéœ€è¦å°‡æ¥ç¨®è€…åŠ é€²å°æ‡‰çš„ group ä¸­ã€‚</li>
<li>æ¥ç¨®è€…ï¼ˆVaxxerï¼‰ï¼šæƒ³è¦æå‡ºè‡ªå·±æœ‰æ¥ç¨®éç–«è‹—çš„äººã€‚</li>
</ul>
<blockquote>
<p>åœ¨æˆ‘å€‘çš„ç–«è‹—æ³¨å°„å¡ä¸Šé¢æœƒæœ‰é†«é™¢è­‰æ˜ã€é†«å¸«è“‹ç« ç­‰è³‡è¨Šä¾†è­‰å¯¦é€™å¼µå¡çš„çœŸå½ï¼›å¦å¤–ä¹Ÿé¿å…ä¸€èˆ¬äººä¹Ÿå¯ä»¥éš¨æ„ <code>addMember()</code> çš„æƒ…æ³ï¼Œå› æ­¤éœ€è¦ç”±èªè­‰å¾Œé†«å¸«çš„ address æ‰èƒ½åŸ·è¡Œ <code>addMember()</code>ã€‚</p>
</blockquote>
<p><strong>æ­¥é©Ÿ</strong>ï¼ˆåƒè€ƒ <em>fig. 2</em> ä¸­çš„ <strong>Step 1 ~ 8</strong>ï¼‰ï¼š</p>
<p>å‰æï¼š</p>
<ul>
<li>é†«å¸«ç«¯éœ€è¦è¨­å®šä¸€çµ„ç™½åå–®ï¼ˆè£¡é¢æœƒå­˜æ”¾ Ethereum ä¸Šçš„ addressï¼‰ã€‚</li>
<li>ä¸‹é¢çš„æ•…äº‹ç™¼ç”Ÿåœ¨ä¸€å€‹æ¥ç¨®è€…æ‰“å®Œç–«è‹—å¾Œã€‚</li>
</ul>
<ol>
<li>é†«å¸«ç™»å…¥è‡ªå·±çš„ addressï¼Œé€éç™½åå–®èªè­‰å¾Œä¾¿å¯ä»¥åŸ·è¡Œã€‚</li>
<li>é†«å¸«æœƒè«‹æ¥ç¨®è€…è¼¸å…¥ä¸€ä¸²åªæœ‰è‡ªå·±çŸ¥é“çš„å¯†ç¢¼ï¼ˆå¸³è™Ÿç‚ºèº«åˆ†è­‰å­—è™Ÿï¼‰ï¼Œç³»çµ±æœƒè¬›é€™ä¸²è³‡è¨Š parse ä¸¦é€²è¡Œ hashï¼Œå¾—åˆ° hï¼Œè£½é€ ä¸€çµ„æ–°çš„ <code>Identity(h)</code>ã€‚ï¼ˆåƒæ˜¯åœ¨éŠ€è¡Œè¨­å®šææ¬¾æ©Ÿå¯†ç¢¼ä¸€æ¨£ï¼‰</li>
<li>é†«å¸«æŒ‰ä¸‹ <code>addMember</code> çš„æŒ‰éˆ•ï¼Œæ­¤æ™‚ç”± semaphore è¨ˆç®—å¾—åˆ°çš„ commitment æœƒé€åˆ°å·²å»ºç«‹çš„åˆç´„ä¸­ï¼Œå­˜æ”¾åœ¨éˆä¸Šçš„å°æ‡‰çš„ Merkle Treeã€‚</li>
<li>åŒæ™‚æˆ‘å€‘çš„ database ä¸­ä¹Ÿæœƒå„²å­˜é—œæ–¼æ­¤ commitment çš„è³‡è¨Šï¼ˆåŒ…å« groupIdã€nonceã€commitmentï¼‰ã€‚</li>
<li>ç•¶æ¥ç¨®è€…æƒ³è¦æå‡ºè­‰æ˜æ™‚ï¼Œæœƒè¼¸å…¥è‡ªå·±çš„å¸³è™Ÿå¯†ç¢¼ï¼ŒzkVaxCard æœƒé€éå„²å­˜çš„è³‡è¨Šä¾†æª¢æŸ¥æ˜¯å¦æœ‰é€™çµ„ identityã€‚</li>
<li>èªè­‰ identity å¾Œï¼Œæœƒé€éä¸€çµ„å­˜åœ¨ç³»çµ±ä¸­çš„ç§é‘°ä¾†èˆ‡éˆä¸Šåˆç´„é€²è¡Œäº¤æ˜“ï¼ˆæ­¤æ­¥çš„ç›®çš„æ˜¯ç‚ºäº†ä¸æ­éœ²æ¥ç¨®è€…åœ°å€ï¼‰ï¼Œå‚³é€ groupIdã€Merkle Rootã€ZKproof ç­‰è³‡è¨Šåˆ° <code>verify()</code> ä¸­é€²è¡Œé©—è­‰ã€‚</li>
<li>é€é semaphore çš„ <code>verifyProof()</code>ï¼Œå¯ä»¥é€²è¡Œæ­¤ identity æ˜¯å¦åœ¨ group çš„é©—è­‰ï¼Œè‹¥æˆåŠŸï¼ˆå›å‚³ Trueï¼‰ï¼Œå‰‡é¡¯ç¤º Successfully Verifiedã€‚</li>
<li>é©—è­‰è€…ï¼ˆåƒæ˜¯åº—å®¶æˆ–æ”¿åºœæ©Ÿé—œï¼‰å‰‡å¯ä»¥åƒè€ƒé©—è­‰æˆåŠŸçš„ç•«é¢é€²è¡Œé©—è­‰ã€‚</li>
</ol>
<h2 id="æŠ€è¡“è§£æ"><a class="anchor" href="#æŠ€è¡“è§£æ"><span class="icon icon-link"></span></a>æŠ€è¡“è§£æ</h2>
<blockquote>
<p>é€™éƒ¨åˆ†æœƒä¾å¾ªä¸Šæ–¹çš„é †åºï¼Œè§£é‡‹åœ¨å…¶ä¸­åšäº†ä»€éº¼äº‹ã€‚</p>
</blockquote>
<h3 id="password--identity"><a class="anchor" href="#password--identity"><span class="icon icon-link"></span></a><strong>password &amp; identity</strong></h3>
<p>åœ¨ä½¿ç”¨è€…è¼¸å…¥å¯†ç¢¼æ™‚ï¼Œæˆ‘å€‘æœƒç”¨ä¸‹é¢çš„æ–¹æ³•å°‡é€™ä¸²è³‡è¨Šè½‰æ›æˆ hash å€¼ï¼š
<em>in <code>doctorModal.js</code></em>ï¼š</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> beforeHash <span class="token operator">=</span> addId<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">let</span> seed <span class="token operator">=</span> <span class="token function">keccak256</span><span class="token punctuation">(</span>beforeHash<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token string">&quot;hex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token comment">//...</span>
</span></code></pre>
<p>ä¸¦å°‡å…¶å€¼ç›´æ¥åœ¨ constructor é€å…¥ <code>Identity</code> ä¸­ï¼Œè£½ä½œå‡ºä¸€ä¸²å±¬æ–¼æ¥ç¨®è€…è‡ªå·±çš„ identityã€‚
<em>in <code>useVax()</code></em>ï¼š</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Identity</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&quot;@semaphore-protocol/identity&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token comment">//...</span>
</span><span class="code-line"><span class="token keyword">const</span> identity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Identity</span><span class="token punctuation">(</span>seed<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> identityCommitment <span class="token operator">=</span> identity<span class="token punctuation">.</span><span class="token method function property-access">generateCommitment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// V3 çš„ commitment å‰‡æ˜¯ç›´æ¥å­˜åœ¨ Identity object ä¸­</span>
</span><span class="code-line"><span class="token comment">// ex: const {nullifier, trapdoor, commitment} = new Identity(seed);</span>
</span><span class="code-line"><span class="token comment">//...</span>
</span></code></pre>
<p>é€™æ¨£çš„åšæ³•æœ‰å…©å€‹ä¸»è¦ç›®çš„ï¼š</p>
<ol>
<li>ä½¿ç”¨è€…æ¯æ¬¡éƒ½å¯ä»¥ä½¿ç”¨è‡ªå·±è¨˜å¾—ä½çš„å¯†ç¢¼ä¾†åš verifyã€‚</li>
<li>ä½¿ç”¨è€…ä¸éœ€è¦è¨˜ä½å…©ä¸²å¾ˆé•·çš„å­—ä¸²ï¼ˆnullifier èˆ‡ trapdoor å…©è€…éƒ½æ˜¯ bytes31ï¼‰</li>
</ol>
<hr/>
<h3 id="add-member-into-onchain-merkle-tree-group"><a class="anchor" href="#add-member-into-onchain-merkle-tree-group"><span class="icon icon-link"></span></a><strong>Add member into onchain merkle tree (group)</strong></h3>
<blockquote>
<p>åœ¨åˆç´„éƒ¨ç½²åˆ°éˆä¸Šæ™‚ï¼Œæœƒå…ˆåœ¨ consturctor ä¸­å»ºç«‹äº”å€‹ groupã€‚</p>
</blockquote>
<p>éš¨å¾Œé†«å¸«å°‡æ¥ç¨®è€…åŠ å…¥ group æ™‚ï¼Œæœƒå‘¼å«åœ¨éˆä¸Šåˆç´„ä¸­çš„ <code>joinGroup()</code>ï¼š</p>
<pre class="language-solidity"><code class="language-solidity code-highlight"><span class="code-line"><span class="token keyword">function</span> <span class="token function">joinGroup</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> identityCommitment<span class="token punctuation">,</span> <span class="token builtin">bytes32</span> username<span class="token punctuation">,</span> <span class="token builtin">uint256</span> groupId<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token punctuation">{</span>
</span><span class="code-line">    semaphore<span class="token punctuation">.</span><span class="token function">addMember</span><span class="token punctuation">(</span>groupId<span class="token punctuation">,</span> identityCommitment<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>groupId <span class="token operator">==</span> vacId<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">emit</span> <span class="token function">NewVaccinater1</span><span class="token punctuation">(</span>identityCommitment<span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>groupId <span class="token operator">==</span> vacId<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">emit</span> <span class="token function">NewVaccinater2</span><span class="token punctuation">(</span>identityCommitment<span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>groupId <span class="token operator">==</span> vacId<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">emit</span> <span class="token function">NewVaccinater3</span><span class="token punctuation">(</span>identityCommitment<span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>groupId <span class="token operator">==</span> vacId<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">emit</span> <span class="token function">NewVaccinater4</span><span class="token punctuation">(</span>identityCommitment<span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>groupId <span class="token operator">==</span> vacId<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">emit</span> <span class="token function">NewVaccinater5</span><span class="token punctuation">(</span>identityCommitment<span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>åœ¨éˆä¸‹å‚³é€äº¤æ˜“ï¼š</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> transaction <span class="token operator">=</span> <span class="token keyword control-flow">await</span> contract<span class="token punctuation">.</span><span class="token method function property-access">joinGroup</span><span class="token punctuation">(</span>
</span><span class="code-line">  identityCommitment<span class="token punctuation">,</span>
</span><span class="code-line">  utils<span class="token punctuation">.</span><span class="token method function property-access">formatBytes32String</span><span class="token punctuation">(</span><span class="token string">&quot;seed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  groupId<span class="token punctuation">[</span>doze <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword control-flow">await</span> transaction<span class="token punctuation">.</span><span class="token method function property-access">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<hr/>
<h3 id="database-json-server"><a class="anchor" href="#database-json-server"><span class="icon icon-link"></span></a><strong>database (json-server)</strong></h3>
<p>å¾Œç«¯çš„éƒ¨åˆ†æˆ‘å€‘åšäº†ä¸€å€‹å¾ˆç°¡å–®çš„ json-serverï¼Œå°±æ˜¯ç›´æ¥åˆ©ç”¨ cli ä¾†è·‘ä¸€å€‹æœ¬åœ°çš„ portã€‚</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <span class="token function">yarn</span> json-server db.json <span class="token parameter variable">--port</span> <span class="token number">4000</span>
</span><span class="code-line"><span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token function">yarn</span> run v1.22.19
</span><span class="code-line">$ /Users/foodchain/Documents/swf_lab/ZKP/zkVaxCard/frontend/node_modules/.bin/json-server db.json <span class="token parameter variable">--port</span> <span class="token number">4000</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token punctuation">\</span><span class="token punctuation">{</span>^_^<span class="token punctuation">}</span>/ hi<span class="token operator">!</span>
</span><span class="code-line">
</span><span class="code-line">  Loading db.json
</span><span class="code-line">  Done
</span><span class="code-line">
</span><span class="code-line">  Resources
</span><span class="code-line">  http://localhost:4000/vac
</span><span class="code-line">
</span><span class="code-line">  Home
</span><span class="code-line">  http://localhost:4000
</span><span class="code-line">
</span><span class="code-line">  Type s + enter at any <span class="token function">time</span> to create a snapshot of the database
</span><span class="code-line">
</span></code></pre>
<p>åœ¨ json file ä¸­ï¼Œæ¯çµ„è³‡æ–™æœƒç´€éŒ„ï¼š</p>
<ul>
<li>commitmentï¼šé€é seed ç”¢ç”Ÿçš„ commitmentã€‚</li>
<li>nonceï¼šä½œç‚º external å‚³å…¥çš„è®Šæ•¸ã€‚</li>
<li>idï¼šä»£è¡¨æœƒå­˜å…¥éˆä¸Šçš„å“ªä¸€å€‹ groupIdã€‚</li>
</ul>
<p>æ¯æ¬¡é†«å¸«åŠ å…¥ä¸€çµ„ commitment åˆ°éˆä¸Šæ™‚ï¼Œä¹ŸåŒæ™‚æœƒå°‡è³‡è¨Šæ›´æ–°åœ¨æ­¤è™•ã€‚</p>
<hr/>
<h3 id="verify"><a class="anchor" href="#verify"><span class="icon icon-link"></span></a><strong>Verify</strong></h3>
<p>éœ€è¦è¼¸å…¥ <code>verify()</code> çš„åƒæ•¸æœ‰:</p>
<ol>
<li>message</li>
<li>Merkle Root</li>
<li>nullifierHash</li>
<li>ZKProof</li>
</ol>
<p>ä¸‹é¢æˆ‘å€‘å°±ç”¨ç›¡æ´ªè’ä¹‹åŠ›ç”Ÿå‡ºé€™å¹¾å€‹åƒæ•¸ï¼ˆï¼Ÿï¼‰ï¼Œä½†å…¶å¯¦å…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯ <strong>Merkle Root</strong>ã€‚</p>
<p>é€™é‚Šçš„æ–¹æ³•ç”± @ChiHaoLu æä¾› ğŸ™ï¼š
é¦–å…ˆè¦å» Goerliï¼ˆä½ éƒ¨ç½²çš„éˆï¼‰ä¸Šçš„ semaphore åˆç´„ï¼ˆåœ¨ Goerli ç‚º<a href="https://goerli.etherscan.io/address/0x5259d32659F1806ccAfcE593ED5a89eBAb85262f">0x5259d32659F1806ccAfcE593ED5a89eBAb85262f</a>ï¼‰ã€‚</p>
<p>é€é ABI ä¾†å–å¾— function selectorï¼Œä¸¦å–å¾—å…¶ Merkle Rootï¼š</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Contract</span><span class="token punctuation">(</span><span class="token string">&quot;0x5259d32659F1806ccAfcE593ED5a89eBAb85262f&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">[</span><span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token string-property property">&quot;inputs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token string-property property">&quot;internalType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;groupId&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;getMerkleTreeRoot&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token string-property property">&quot;outputs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token string-property property">&quot;internalType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uint256&quot;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token string-property property">&quot;stateMutability&quot;</span><span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;function&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> signer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> merkleRoot <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token method function property-access">getMerkleTreeRoot</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¼¸å…¥ä½ å‚³å…¥çš„ groupId</span>
</span><span class="code-line"><span class="token comment">//...</span>
</span></code></pre>
<p>éš¨å¾Œä¾¿å¯ä»¥å‚³åˆ°éˆä¸Šé€²è¡Œé©—è­‰äº†ï¼š</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">//...</span>
</span><span class="code-line"><span class="token comment">// verify on chain</span>
</span><span class="code-line"><span class="token keyword">const</span> transaction <span class="token operator">=</span> <span class="token keyword control-flow">await</span> contract<span class="token punctuation">.</span><span class="token method function property-access">verify</span><span class="token punctuation">(</span>
</span><span class="code-line">  message<span class="token punctuation">,</span>
</span><span class="code-line">  root<span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  nullifierHash<span class="token punctuation">,</span>
</span><span class="code-line">  solidityProof
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">await</span> transaction<span class="token punctuation">.</span><span class="token method function property-access">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// update external nullifier</span>
</span><span class="code-line"><span class="token keyword control-flow">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">put</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/vac/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">nonce</span><span class="token operator">:</span> externalNullifier <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>ä½†åŒæ™‚ä¹Ÿéœ€è¦æ›´æ–°åœ¨ json-server ä¸­çš„ nonceã€‚</p>
<h2 id="æŠ€è¡“ç“¶é ¸"><a class="anchor" href="#æŠ€è¡“ç“¶é ¸"><span class="icon icon-link"></span></a>æŠ€è¡“ç“¶é ¸</h2>
<p>é€™æ®µæœƒç°¡è¿°ä¸€ä¸‹æˆ‘å€‘åœ¨é–‹ç™¼ä¸­é‡åˆ°çš„ä¸€äº›å•é¡Œï¼Œå¸Œæœ›æœªä¾†å¯ä»¥ä¸è¦å†æ’åŒæ¨£çš„ç‰†ã€‚</p>
<h3 id="double-signalingï¼š"><a class="anchor" href="#double-signalingï¼š"><span class="icon icon-link"></span></a>Double Signalingï¼š</h3>
<p>åœ¨ç ”ç©¶ semaphore çš„ç¯„ä¾‹å°ˆæ¡ˆæ™‚ï¼Œæˆ‘å€‘ç™¼ç¾ç„¡æ³•é€éç›¸åŒçš„ identity é©—è­‰å…©æ¬¡ï¼Œé€™æ˜¯å› ç‚ºé˜²æ­¢ double signaling çš„å•é¡Œã€‚åœ¨ semaphore ä¸­æ˜¯é€é external nullifier ä¾†é™åˆ¶çš„ï¼Œå› æ­¤åªè¦æ¯æ¬¡å‚³å…¥ verify æ™‚éƒ½å‚³å…¥ä¸åŒçš„ external nullifier ä¾¿å¯ä»¥å®Œæˆã€Œ<strong>åŒä¸€çµ„ identity é‡è¤‡çš„é©—è­‰</strong>ã€ã€‚</p>
<h3 id="groupidï¼š"><a class="anchor" href="#groupidï¼š"><span class="icon icon-link"></span></a>GroupIdï¼š</h3>
<p>åœ¨å»ºç«‹ group æ™‚ï¼Œéœ€è¦å‚³å…¥ groupIdã€‚ä½†å¸¸å¸¸å‚³å…¥çš„ groupId å·²ç¶“è¢«åˆ¥äººç”¨éäº†ï¼Œå› æ­¤éœ€è¦æ‰¾åˆ°ä¸€çµ„åˆ¥äººæ²’ä½¿ç”¨éçš„ groupIdã€‚</p>
<h3 id="merkle-rootï¼š"><a class="anchor" href="#merkle-rootï¼š"><span class="icon icon-link"></span></a>Merkle Rootï¼š</h3>
<p>åŸæœ¬æˆ‘å€‘åƒç…§ <code>Bolierplate</code>ï¼Œå…¶ä¸­ä½¿ç”¨ <code>generateProof()</code> ä¾†ç”¢ç”Ÿ proofã€merkleTreeRootã€nullifierHash ç­‰ã€‚
<em>in <a href="https://github.com/semaphore-protocol/boilerplate/blob/main/apps/web-app/src/pages/proofs.tsx#L65">Boilerplate/apps/web-app/src/pages/proof.tsx</a></em>ï¼š</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> proof<span class="token punctuation">,</span> merkleTreeRoot<span class="token punctuation">,</span> nullifierHash <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">generateProof</span><span class="token punctuation">(</span>
</span><span class="code-line">  _identity<span class="token punctuation">,</span>
</span><span class="code-line">  group<span class="token punctuation">,</span>
</span><span class="code-line">  env<span class="token punctuation">.</span><span class="token constant">GROUP_ID</span><span class="token punctuation">,</span>
</span><span class="code-line">  feedbackBytes32
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>ä½†å¯¦æ¸¬å¾Œç™¼ç¾å®ƒå›å‚³çš„ MerkleRoot æ˜¯éŒ¯çš„ï¼Œå› æ­¤ä½¿ç”¨ä¸Šä¸€æ®µçš„æ–¹æ³•ã€‚</p>
<h2 id="çµè«–"><a class="anchor" href="#çµè«–"><span class="icon icon-link"></span></a>çµè«–</h2>
<p>é›–ç„¶åœ¨å·²ç¶“é–‹æ”¾å¾Œçš„å°ç£ï¼ŒzkVaxCard ä¼¼ä¹æœ‰é»éæ™‚ï¼Œä½†æ˜¯æˆ‘èªçˆ²å®ƒä¹Ÿå¯ä»¥æ‡‰ç”¨åœ¨ä¸€äº›å…¶ä»–çš„é ˜åŸŸï¼Œåƒæ˜¯è²¡ç”¢è­‰æ˜ã€ä¿®èª²è­‰æ›¸ã€èƒ½åŠ›è­‰æ›¸ã€æœƒå“¡åˆ¶åº¦ç­‰ã€‚å¯ä»¥ä¸æ´©æ¼ä½¿ç”¨è€…çš„éš±ç§ï¼ˆåƒæ˜¯éŠ€è¡Œå¸³è™Ÿï¼‰ï¼Œæå‡ºå…·æœ‰å…¬ä¿¡åŠ›çš„è­‰æ˜ã€‚</p>
<p>å¦å¤–æˆ‘èªç‚º password æ›´å®‰å…¨çš„åšæ³•æ˜¯åˆ©ç”¨ä¸€çµ„ EdDSA/EcDSA ç”¢ç”Ÿçš„ç§é‘°ï¼Œå°‡è‡ªå·±è¨­å®šçš„å¯†ç¢¼åšç°½ç« ï¼Œä¸¦å°‡æ­¤ä½œç‚º seedï¼Œä½†æ˜¯åœ¨é–‹ç™¼ä¸Šå¯èƒ½é ˆè€ƒæ…®<strong>ä¾¿åˆ©æ€§å•é¡Œ</strong>ï¼ˆå¦‚ä½¿ç”¨è€…éœ€è¦è¨˜ä½çš„æ±è¥¿æœ‰å¤šå°‘ï¼‰ï¼Œæ‰èƒ½<strong>çœŸæ­£è®“é€™äº›æ‡‰ç”¨å¯¦æ–½åœ¨ç¾å¯¦ç”Ÿæ´»ä¸­</strong>ã€‚</p>
<h2 id="references"><a class="anchor" href="#references"><span class="icon icon-link"></span></a>References</h2>
<ul>
<li><a href="https://medium.com/swf-lab/zk-app-client-implementation-with-semaphore-431e49dc32b8">ZK-App Client Implementation with Semaphore</a></li>
</ul></div></article></div></main><footer class="py-8 flex justify-center items-center"><div class="max-w-5xl px-8 mx-auto"><i> <!-- -->Shout out to author of this template -<!-- --> <a class="text-gray-900 dark:text-white" href="https://twitter.com/hunterhchang">Hunter Chang</a></i></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h2: \"h2\",\n    a: \"a\",\n    span: \"span\",\n    p: \"p\",\n    em: \"em\",\n    blockquote: \"blockquote\",\n    ul: \"ul\",\n    li: \"li\",\n    strong: \"strong\",\n    h1: \"h1\",\n    ol: \"ol\",\n    code: \"code\",\n    img: \"img\",\n    hr: \"hr\",\n    h3: \"h3\",\n    pre: \"pre\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.h2, {\n      id: \"zkplayground-project\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#zkplayground-project\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"ZKPlayground Project\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.em, {\n        children: \"zkVaxCard\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [_jsx(_components.em, {\n          children: \"Author: Fu-Chuan Chung @ swfLAB\"\n        }), \" \u003e \", _jsx(_components.em, {\n          children: \"æ„Ÿè¬ @Paul review æ­¤ç¯‡æ–‡ç« \"\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"ç›®éŒ„\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#ç›®éŒ„\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"ç›®éŒ„\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"å‰è¨€\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ç°¡ä»‹\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Semaphore ä»‹ç´¹\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"zkVaxCard ç³»çµ±è¨­è¨ˆ\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æŠ€è¡“èªªæ˜\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"é‡åˆ°çš„ç“¶é ¸\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"çµè«–\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"å‰è¨€\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#å‰è¨€\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"å‰è¨€\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"å‰æƒ…æè¦ï¼šæˆ‘å€‘çš„åŸæœ¬ä¸»é¡Œæƒ³ä½¿ç”¨ SBTï¼ˆSoul Bound Tokenï¼‰ã€semaphore åŠ Tornato Cash èƒŒå¾Œä¹‹é›¶çŸ¥è­˜è­‰æ˜æŠ€è¡“ï¼Œä½†å¾Œä¾†å› æ™‚é–“èˆ‡èƒ½åŠ›å•é¡Œæ›´æ”¹æˆæœ€å¾Œçš„å°ˆæ¡ˆã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ZKPlayground æ˜¯ç”±ä»¥å¤ªåŠåŸºé‡‘æœƒåœ¨èƒŒå¾Œæ¨å‹•çš„æ´»å‹•ï¼Œå…§å®¹åŒ…å«è¬›å¸«æ•™æˆé›¶çŸ¥è­˜ç›¸é—œçŸ¥è­˜èˆ‡æ‡‰ç”¨ï¼Œè€Œæœ¬æ–‡æœƒä»‹ç´¹é—œæ–¼ SWF Lab åƒåŠ æˆå“¡ï¼ˆFoodchainã€yanlongã€noomaã€iverï¼‰å››äººåœ¨æ­¤æ´»å‹•ä¸­å®Œæˆçš„ä¸€é …å°ˆæ¡ˆ - \", _jsx(_components.strong, {\n        children: \"zkVaxCard\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"ç°¡ä»‹\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#ç°¡ä»‹\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"ç°¡ä»‹\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"zkVaxCard\"\n      }), \" æ˜¯ä¸€å€‹å¯ä»¥å¹«åŠ©äººå€‘åœ¨ã€Œä¸æ­éœ²ä»»ä½•å€‹äººè³‡è¨Šå¦‚èº«åˆ†è­‰å­—è™Ÿã€å€‹äººç…§ç‰‡æˆ–å¥ä¿å¡å¡è™Ÿã€ä¹‹æƒ…æ³ä¸‹ã€Œè­‰æ˜è‡ªå·±æœ‰æ¥ç¨®éç–«è‹—ã€ä¹‹ç³»çµ±ï¼Œä»¥ React.js ç‚ºå‰ç«¯é–‹ç™¼çš„æ¡†æ¶ã€json-server ä½œç‚ºä¸€å€‹éå¸¸è‡¨æ™‚çš„å¾Œç«¯è³‡æ–™åº«ï¼Œä¸¦ä»¥ Semaphore protocol ä½œç‚ºå…¶èƒŒå¾Œçš„é›¶çŸ¥è­˜è­‰æ˜æŠ€è¡“ï¼ŒåŒæ™‚åƒè€ƒäº† semaphore ä¸Šçš„ç¯„ä¾‹å°ˆæ¡ˆ - \", _jsx(_components.em, {\n        children: _jsx(_components.a, {\n          href: \"https://github.com/semaphore-protocol/boilerplate\",\n          children: \"Bolierplate\"\n        })\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"æœ¬æ–‡å°‡ä¸æ·±å…¥ semaphore ä¸­ circom é›»è·¯èˆ‡å…¶åŸç†ï¼Œåªæœƒè¬›è¿°å¦‚ä½•ä½¿ç”¨ semaphore å¥—ä»¶èˆ‡å¥—ä»¶ä¸­ç”¨åˆ°çš„ javascript èªæ³•ç­‰ã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h1, {\n      id: \"semaphore\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#semaphore\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Semaphore\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"https://semaphore.appliedzkp.org/\",\n        children: \"Semaphore\"\n      }), \" æ˜¯åœ¨ä»¥å¤ªåŠç”Ÿæ…‹ä¸Šé–‹ç™¼çš„ ZKP ç›¸é—œ project ä¹‹ä¸€ï¼Œå¯ä»¥é€é ZKP ä¾†å®Œæˆèº«ä»½çš„èªè­‰ã€‚\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"private: ğŸŒš\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"public: ğŸŒ\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"åœ¨ semaphore ä¸­æœ‰å¹¾å€‹é‡è¦çš„å…ƒç´ ï¼š\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"identity\"\n        }), \"ï¼šä¸€çµ„èº«ä»½ï¼Œå…¶ä¸­ç”±ä¸‰å€‹éƒ¨åˆ†çµ„æˆï¼š ğŸŒš nullifierã€ğŸŒš trapdoor èˆ‡ ğŸŒ commitmentã€‚å¯ä»¥æŠŠå®ƒæƒ³åƒæˆåœ¨ Ethereum ä¸Šçš„ä¸€å€‹ç§é‘°ï¼ˆnullifier \u0026 trapdoorï¼‰èˆ‡åœ°å€ï¼ˆcommitmentï¼‰çš„é—œä¿‚ã€‚\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Group\"\n        }), \"ï¼šsemaphore åˆ©ç”¨ incremental binary Merkle Treeï¼Œä¾†å„²å­˜åœ¨æŸä¸€åœ˜é«”ä¸­çš„æ¯ä¸€å€‹èº«ä»½ï¼ˆæ„æŒ‡æ¯ä¸€å€‹ Merkle Leaf éƒ½æ˜¯ä¸€å€‹ \", _jsx(_components.code, {\n          children: \"identity\"\n        }), \"ï¼‰ã€‚åœ¨éˆä¸Šï¼Œæ¯ä¸€æ£µæ¨¹éƒ½æœƒæ“æœ‰è‡ªå·±çš„ç·¨è™Ÿï¼ˆgroup idï¼‰èˆ‡æ¨¹é«˜ï¼ˆtree depthï¼‰ã€‚\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"ZKproof\"\n        }), \"ï¼šæ“æœ‰ identity ä¸¦ä¸”åŠ å…¥ä¸€çµ„ group å¾Œï¼Œä¾¿å¯ä»¥ç”¨ circuit ä¾†è¨ˆç®—å‡ºä¸€æ®µ ZKproofã€‚é€éå‚³é€é€™æ®µ proof åˆ°éˆä¸Šçš„åˆç´„ï¼Œä¾¿å¯ä»¥ã€Œ\", _jsx(_components.strong, {\n          children: \"ä¸æ­éœ²è‡ªå·±çš„åœ°å€\"\n        }), \"ã€ä½†å»èƒ½ã€Œ\", _jsx(_components.strong, {\n          children: \"è­‰æ˜è‡ªå·±æ˜¯å­˜åœ¨æ–¼æŸå€‹åœ˜é«”ä¹‹ä¸­\"\n        }), \"ã€\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Semaphore å·²ç¶“ç”¨ circom å¯«å¥½ä»–å€‘çš„ circuitï¼Œè©³è¦‹ \", _jsx(_components.em, {\n        children: \"fig. 1\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.img, {\n        src: \"https://i.imgur.com/5sKw3Uo.png\",\n        alt: \"\"\n      }), \"\\nfig. 1 Circuits in semaphore by \", _jsx(_components.a, {\n        href: \"https://github.com/cedoor\",\n        children: \"Cedoor\"\n      })]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.p, {\n      children: \"èˆ‰ä¾‹ä¾†èªªï¼Œsemaphore å¯ä»¥ç”¨ä¾†å»ºç«‹ä¸€å€‹æŠ•ç¥¨ç³»çµ±ï¼š\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"æŠ•ç¥¨è€…å¯ä»¥é€é semaphore å–å¾—ä¸€çµ„ ğŸŒš \", _jsx(_components.code, {\n        children: \"identity\"\n      }), \"ï¼ˆ\", _jsx(_components.code, {\n        children: \"nullifier\"\n      }), \" \u0026 \", _jsx(_components.code, {\n        children: \"trapdoor\"\n      }), \"ï¼‰ï¼Œåˆ©ç”¨ä¸€ä¸² secret è¨ˆç®—å‡ºä¸€å€‹ ğŸŒ commitmentï¼Œä¸¦å°‡æ­¤ ğŸŒ commitment å­˜å…¥åœ¨éˆä¸Šçš„ Merkle Treeï¼ˆGroupï¼‰ï¼ŒåŒæ™‚è¨ˆç®—å‡ºä¸€å€‹æ–°çš„ Merkle Rootã€‚æ¥è‘—ï¼Œç•¶æŠ•ç¥¨çš„æ™‚å€™ï¼ŒæŠ•ç¥¨è€…å‰‡éœ€è¦é€é semaphore ç”¢ç”Ÿå‡º ZKProofï¼Œéš¨å¾Œå°‡æŠ•ç¥¨è³‡è¨Šã€groupIdã€Merkle Rootã€ZKproof ç­‰è³‡æ–™æäº¤åˆ°åœ¨éˆä¸Šçš„ \", _jsx(_components.code, {\n        children: \"verifyProof()\"\n      }), \"ï¼Œä¾¿å¯ä»¥é©—è­‰æŠ•ç¥¨è€…çš„èº«ä»½ï¼Œä¸¦åœ¨éˆä¸Šå…¬é–‹çš„ç´€éŒ„æŠ•ç¥¨çµæœäº†ã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Semaphore ä¹Ÿåˆ©ç”¨äº†ä¸€å€‹è®Šæ•¸ external nullifier ä¾†é¿å… double signaling ï¼ˆä¾‹ï¼šåŒä¸€çµ„èº«ä»½ä½†æ˜¯æŠ•å…©æ¬¡ç¥¨ï¼‰çš„å•é¡Œï¼Œå¯ä»¥æŠŠå®ƒæƒ³åƒæˆåœ¨ ethereum äº¤æ˜“ä¸­çš„ nonceã€‚\"\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"verication-flow\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#verication-flow\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Verication Flow\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"æ¥è‘—ä¾†èªªæ˜ zkVaxCard çš„ç³»çµ±æµç¨‹ï¼Œå¯åƒè€ƒ \", _jsx(_components.em, {\n        children: \"fig. 2\"\n      }), \"ã€‚\\n\", _jsx(_components.img, {\n        src: \"https://i.imgur.com/PcyT88T.png\",\n        alt: \"\"\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"fig. 2 System design of zkVaxCard\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æ•´å€‹ç³»çµ±æˆ‘å€‘åˆ†æˆå…©å€‹éƒ¨åˆ†ï¼š\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"æ³¨å°„çš„é†«å¸«æˆ–å–®ä½ï¼ˆDoctor/ Governmentï¼‰ï¼šé†«ç”Ÿåœ¨é€²è¡Œæ³¨å°„å¾Œéœ€è¦å°‡æ¥ç¨®è€…åŠ é€²å°æ‡‰çš„ group ä¸­ã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"æ¥ç¨®è€…ï¼ˆVaxxerï¼‰ï¼šæƒ³è¦æå‡ºè‡ªå·±æœ‰æ¥ç¨®éç–«è‹—çš„äººã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"åœ¨æˆ‘å€‘çš„ç–«è‹—æ³¨å°„å¡ä¸Šé¢æœƒæœ‰é†«é™¢è­‰æ˜ã€é†«å¸«è“‹ç« ç­‰è³‡è¨Šä¾†è­‰å¯¦é€™å¼µå¡çš„çœŸå½ï¼›å¦å¤–ä¹Ÿé¿å…ä¸€èˆ¬äººä¹Ÿå¯ä»¥éš¨æ„ \", _jsx(_components.code, {\n          children: \"addMember()\"\n        }), \" çš„æƒ…æ³ï¼Œå› æ­¤éœ€è¦ç”±èªè­‰å¾Œé†«å¸«çš„ address æ‰èƒ½åŸ·è¡Œ \", _jsx(_components.code, {\n          children: \"addMember()\"\n        }), \"ã€‚\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"æ­¥é©Ÿ\"\n      }), \"ï¼ˆåƒè€ƒ \", _jsx(_components.em, {\n        children: \"fig. 2\"\n      }), \" ä¸­çš„ \", _jsx(_components.strong, {\n        children: \"Step 1 ~ 8\"\n      }), \"ï¼‰ï¼š\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å‰æï¼š\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"é†«å¸«ç«¯éœ€è¦è¨­å®šä¸€çµ„ç™½åå–®ï¼ˆè£¡é¢æœƒå­˜æ”¾ Ethereum ä¸Šçš„ addressï¼‰ã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ä¸‹é¢çš„æ•…äº‹ç™¼ç”Ÿåœ¨ä¸€å€‹æ¥ç¨®è€…æ‰“å®Œç–«è‹—å¾Œã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"é†«å¸«ç™»å…¥è‡ªå·±çš„ addressï¼Œé€éç™½åå–®èªè­‰å¾Œä¾¿å¯ä»¥åŸ·è¡Œã€‚\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"é†«å¸«æœƒè«‹æ¥ç¨®è€…è¼¸å…¥ä¸€ä¸²åªæœ‰è‡ªå·±çŸ¥é“çš„å¯†ç¢¼ï¼ˆå¸³è™Ÿç‚ºèº«åˆ†è­‰å­—è™Ÿï¼‰ï¼Œç³»çµ±æœƒè¬›é€™ä¸²è³‡è¨Š parse ä¸¦é€²è¡Œ hashï¼Œå¾—åˆ° hï¼Œè£½é€ ä¸€çµ„æ–°çš„ \", _jsx(_components.code, {\n          children: \"Identity(h)\"\n        }), \"ã€‚ï¼ˆåƒæ˜¯åœ¨éŠ€è¡Œè¨­å®šææ¬¾æ©Ÿå¯†ç¢¼ä¸€æ¨£ï¼‰\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"é†«å¸«æŒ‰ä¸‹ \", _jsx(_components.code, {\n          children: \"addMember\"\n        }), \" çš„æŒ‰éˆ•ï¼Œæ­¤æ™‚ç”± semaphore è¨ˆç®—å¾—åˆ°çš„ commitment æœƒé€åˆ°å·²å»ºç«‹çš„åˆç´„ä¸­ï¼Œå­˜æ”¾åœ¨éˆä¸Šçš„å°æ‡‰çš„ Merkle Treeã€‚\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"åŒæ™‚æˆ‘å€‘çš„ database ä¸­ä¹Ÿæœƒå„²å­˜é—œæ–¼æ­¤ commitment çš„è³‡è¨Šï¼ˆåŒ…å« groupIdã€nonceã€commitmentï¼‰ã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ç•¶æ¥ç¨®è€…æƒ³è¦æå‡ºè­‰æ˜æ™‚ï¼Œæœƒè¼¸å…¥è‡ªå·±çš„å¸³è™Ÿå¯†ç¢¼ï¼ŒzkVaxCard æœƒé€éå„²å­˜çš„è³‡è¨Šä¾†æª¢æŸ¥æ˜¯å¦æœ‰é€™çµ„ identityã€‚\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"èªè­‰ identity å¾Œï¼Œæœƒé€éä¸€çµ„å­˜åœ¨ç³»çµ±ä¸­çš„ç§é‘°ä¾†èˆ‡éˆä¸Šåˆç´„é€²è¡Œäº¤æ˜“ï¼ˆæ­¤æ­¥çš„ç›®çš„æ˜¯ç‚ºäº†ä¸æ­éœ²æ¥ç¨®è€…åœ°å€ï¼‰ï¼Œå‚³é€ groupIdã€Merkle Rootã€ZKproof ç­‰è³‡è¨Šåˆ° \", _jsx(_components.code, {\n          children: \"verify()\"\n        }), \" ä¸­é€²è¡Œé©—è­‰ã€‚\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"é€é semaphore çš„ \", _jsx(_components.code, {\n          children: \"verifyProof()\"\n        }), \"ï¼Œå¯ä»¥é€²è¡Œæ­¤ identity æ˜¯å¦åœ¨ group çš„é©—è­‰ï¼Œè‹¥æˆåŠŸï¼ˆå›å‚³ Trueï¼‰ï¼Œå‰‡é¡¯ç¤º Successfully Verifiedã€‚\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"é©—è­‰è€…ï¼ˆåƒæ˜¯åº—å®¶æˆ–æ”¿åºœæ©Ÿé—œï¼‰å‰‡å¯ä»¥åƒè€ƒé©—è­‰æˆåŠŸçš„ç•«é¢é€²è¡Œé©—è­‰ã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"æŠ€è¡“è§£æ\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#æŠ€è¡“è§£æ\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"æŠ€è¡“è§£æ\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"é€™éƒ¨åˆ†æœƒä¾å¾ªä¸Šæ–¹çš„é †åºï¼Œè§£é‡‹åœ¨å…¶ä¸­åšäº†ä»€éº¼äº‹ã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"password--identity\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#password--identity\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), _jsx(_components.strong, {\n        children: \"password \u0026 identity\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"åœ¨ä½¿ç”¨è€…è¼¸å…¥å¯†ç¢¼æ™‚ï¼Œæˆ‘å€‘æœƒç”¨ä¸‹é¢çš„æ–¹æ³•å°‡é€™ä¸²è³‡è¨Šè½‰æ›æˆ hash å€¼ï¼š\\n\", _jsxs(_components.em, {\n        children: [\"in \", _jsx(_components.code, {\n          children: \"doctorModal.js\"\n        })]\n      }), \"ï¼š\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-javascript\",\n      children: _jsxs(_components.code, {\n        className: \"language-javascript code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" beforeHash \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" addId\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"concat\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"password\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"let\"\n          }), \" seed \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"keccak256\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"beforeHash\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"toString\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"hex\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"//...\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ä¸¦å°‡å…¶å€¼ç›´æ¥åœ¨ constructor é€å…¥ \", _jsx(_components.code, {\n        children: \"Identity\"\n      }), \" ä¸­ï¼Œè£½ä½œå‡ºä¸€ä¸²å±¬æ–¼æ¥ç¨®è€…è‡ªå·±çš„ identityã€‚\\n\", _jsxs(_components.em, {\n        children: [\"in \", _jsx(_components.code, {\n          children: \"useVax()\"\n        })]\n      }), \"ï¼š\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-javascript\",\n      children: _jsxs(_components.code, {\n        className: \"language-javascript code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"import\"\n          }), \" \", _jsxs(_components.span, {\n            className: \"token imports\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Identity\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"from\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"@semaphore-protocol/identity\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"//...\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" identity \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"new\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"Identity\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"seed\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" identityCommitment \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" identity\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"generateCommitment\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"toString\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// V3 çš„ commitment å‰‡æ˜¯ç›´æ¥å­˜åœ¨ Identity object ä¸­\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// ex: const {nullifier, trapdoor, commitment} = new Identity(seed);\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"//...\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"é€™æ¨£çš„åšæ³•æœ‰å…©å€‹ä¸»è¦ç›®çš„ï¼š\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ä½¿ç”¨è€…æ¯æ¬¡éƒ½å¯ä»¥ä½¿ç”¨è‡ªå·±è¨˜å¾—ä½çš„å¯†ç¢¼ä¾†åš verifyã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ä½¿ç”¨è€…ä¸éœ€è¦è¨˜ä½å…©ä¸²å¾ˆé•·çš„å­—ä¸²ï¼ˆnullifier èˆ‡ trapdoor å…©è€…éƒ½æ˜¯ bytes31ï¼‰\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"add-member-into-onchain-merkle-tree-group\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#add-member-into-onchain-merkle-tree-group\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), _jsx(_components.strong, {\n        children: \"Add member into onchain merkle tree (group)\"\n      })]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"åœ¨åˆç´„éƒ¨ç½²åˆ°éˆä¸Šæ™‚ï¼Œæœƒå…ˆåœ¨ consturctor ä¸­å»ºç«‹äº”å€‹ groupã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"éš¨å¾Œé†«å¸«å°‡æ¥ç¨®è€…åŠ å…¥ group æ™‚ï¼Œæœƒå‘¼å«åœ¨éˆä¸Šåˆç´„ä¸­çš„ \", _jsx(_components.code, {\n        children: \"joinGroup()\"\n      }), \"ï¼š\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-solidity\",\n      children: _jsxs(_components.code, {\n        className: \"language-solidity code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"function\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"joinGroup\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"uint256\"\n          }), \" identityCommitment\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"bytes32\"\n          }), \" username\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"uint256\"\n          }), \" groupId\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"external\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    semaphore\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"addMember\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"groupId\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" identityCommitment\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"groupId \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" vacId\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"0\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"emit\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"NewVaccinater1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"identityCommitment\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" username\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"else\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"groupId \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" vacId\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"emit\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"NewVaccinater2\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"identityCommitment\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" username\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"else\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"groupId \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" vacId\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"2\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"emit\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"NewVaccinater3\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"identityCommitment\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" username\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"else\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"groupId \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" vacId\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"3\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"emit\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"NewVaccinater4\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"identityCommitment\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" username\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"else\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"groupId \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" vacId\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"4\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"emit\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"NewVaccinater5\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"identityCommitment\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" username\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"åœ¨éˆä¸‹å‚³é€äº¤æ˜“ï¼š\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-javascript\",\n      children: _jsxs(_components.code, {\n        className: \"language-javascript code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" transaction \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword control-flow\",\n            children: \"await\"\n          }), \" contract\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"joinGroup\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  identityCommitment\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  utils\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"formatBytes32String\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"seed\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  groupId\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"doze \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword control-flow\",\n            children: \"await\"\n          }), \" transaction\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"wait\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"database-json-server\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#database-json-server\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), _jsx(_components.strong, {\n        children: \"database (json-server)\"\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"å¾Œç«¯çš„éƒ¨åˆ†æˆ‘å€‘åšäº†ä¸€å€‹å¾ˆç°¡å–®çš„ json-serverï¼Œå°±æ˜¯ç›´æ¥åˆ©ç”¨ cli ä¾†è·‘ä¸€å€‹æœ¬åœ°çš„ portã€‚\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsxs(_components.code, {\n        className: \"language-bash code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"$ \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"yarn\"\n          }), \" json-server db.json \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"--port\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"4000\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003e\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token function\",\n            children: \"yarn\"\n          }), \" run v1.22.19\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"$ /Users/foodchain/Documents/swf_lab/ZKP/zkVaxCard/frontend/node_modules/.bin/json-server db.json \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"--port\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"4000\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"\\\\\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"^_^\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"/ hi\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"  Loading db.json\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"  Done\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"  Resources\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"  http://localhost:4000/vac\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"  Home\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"  http://localhost:4000\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  Type s + enter at any \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"time\"\n          }), \" to create a snapshot of the database\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"åœ¨ json file ä¸­ï¼Œæ¯çµ„è³‡æ–™æœƒç´€éŒ„ï¼š\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"commitmentï¼šé€é seed ç”¢ç”Ÿçš„ commitmentã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"nonceï¼šä½œç‚º external å‚³å…¥çš„è®Šæ•¸ã€‚\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"idï¼šä»£è¡¨æœƒå­˜å…¥éˆä¸Šçš„å“ªä¸€å€‹ groupIdã€‚\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"æ¯æ¬¡é†«å¸«åŠ å…¥ä¸€çµ„ commitment åˆ°éˆä¸Šæ™‚ï¼Œä¹ŸåŒæ™‚æœƒå°‡è³‡è¨Šæ›´æ–°åœ¨æ­¤è™•ã€‚\"\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"verify\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#verify\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), _jsx(_components.strong, {\n        children: \"Verify\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"éœ€è¦è¼¸å…¥ \", _jsx(_components.code, {\n        children: \"verify()\"\n      }), \" çš„åƒæ•¸æœ‰:\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"message\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Merkle Root\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"nullifierHash\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ZKProof\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ä¸‹é¢æˆ‘å€‘å°±ç”¨ç›¡æ´ªè’ä¹‹åŠ›ç”Ÿå‡ºé€™å¹¾å€‹åƒæ•¸ï¼ˆï¼Ÿï¼‰ï¼Œä½†å…¶å¯¦å…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯ \", _jsx(_components.strong, {\n        children: \"Merkle Root\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"é€™é‚Šçš„æ–¹æ³•ç”± @ChiHaoLu æä¾› ğŸ™ï¼š\\né¦–å…ˆè¦å» Goerliï¼ˆä½ éƒ¨ç½²çš„éˆï¼‰ä¸Šçš„ semaphore åˆç´„ï¼ˆåœ¨ Goerli ç‚º\", _jsx(_components.a, {\n        href: \"https://goerli.etherscan.io/address/0x5259d32659F1806ccAfcE593ED5a89eBAb85262f\",\n        children: \"0x5259d32659F1806ccAfcE593ED5a89eBAb85262f\"\n      }), \"ï¼‰ã€‚\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"é€é ABI ä¾†å–å¾— function selectorï¼Œä¸¦å–å¾—å…¶ Merkle Rootï¼š\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-javascript\",\n      children: _jsxs(_components.code, {\n        className: \"language-javascript code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" s \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"new\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"Contract\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"0x5259d32659F1806ccAfcE593ED5a89eBAb85262f\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token string-property property\",\n            children: \"\\\"inputs\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"          \", _jsx(_components.span, {\n            className: \"token string-property property\",\n            children: \"\\\"internalType\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"uint256\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"          \", _jsx(_components.span, {\n            className: \"token string-property property\",\n            children: \"\\\"name\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"groupId\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"          \", _jsx(_components.span, {\n            className: \"token string-property property\",\n            children: \"\\\"type\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"uint256\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token string-property property\",\n            children: \"\\\"name\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"getMerkleTreeRoot\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token string-property property\",\n            children: \"\\\"outputs\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"          \", _jsx(_components.span, {\n            className: \"token string-property property\",\n            children: \"\\\"internalType\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"uint256\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"          \", _jsx(_components.span, {\n            className: \"token string-property property\",\n            children: \"\\\"name\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"          \", _jsx(_components.span, {\n            className: \"token string-property property\",\n            children: \"\\\"type\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"uint256\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token string-property property\",\n            children: \"\\\"stateMutability\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"view\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token string-property property\",\n            children: \"\\\"type\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"function\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" signer\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" merkleRoot \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" s\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"getMerkleTreeRoot\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003c\"\n          }), \"groupId\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003e\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// è¼¸å…¥ä½ å‚³å…¥çš„ groupId\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"//...\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"éš¨å¾Œä¾¿å¯ä»¥å‚³åˆ°éˆä¸Šé€²è¡Œé©—è­‰äº†ï¼š\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-javascript\",\n      children: _jsxs(_components.code, {\n        className: \"language-javascript code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"//...\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// verify on chain\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" transaction \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword control-flow\",\n            children: \"await\"\n          }), \" contract\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"verify\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  message\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  root\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"toString\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  nullifierHash\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"  solidityProof\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword control-flow\",\n            children: \"await\"\n          }), \" transaction\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"wait\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// update external nullifier\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword control-flow\",\n            children: \"await\"\n          }), \" axios\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"put\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsxs(_components.span, {\n            className: \"token template-string\",\n            children: [_jsx(_components.span, {\n              className: \"token template-punctuation string\",\n              children: \"`\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"/vac/\"\n            }), _jsxs(_components.span, {\n              className: \"token interpolation\",\n              children: [_jsx(_components.span, {\n                className: \"token interpolation-punctuation punctuation\",\n                children: \"${\"\n              }), \"data\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \".\"\n              }), _jsx(_components.span, {\n                className: \"token property-access\",\n                children: \"data\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"[\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"]\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \".\"\n              }), _jsx(_components.span, {\n                className: \"token property-access\",\n                children: \"id\"\n              }), _jsx(_components.span, {\n                className: \"token interpolation-punctuation punctuation\",\n                children: \"}\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token template-punctuation string\",\n              children: \"`\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"nonce\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" externalNullifier \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ä½†åŒæ™‚ä¹Ÿéœ€è¦æ›´æ–°åœ¨ json-server ä¸­çš„ nonceã€‚\"\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"æŠ€è¡“ç“¶é ¸\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#æŠ€è¡“ç“¶é ¸\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"æŠ€è¡“ç“¶é ¸\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"é€™æ®µæœƒç°¡è¿°ä¸€ä¸‹æˆ‘å€‘åœ¨é–‹ç™¼ä¸­é‡åˆ°çš„ä¸€äº›å•é¡Œï¼Œå¸Œæœ›æœªä¾†å¯ä»¥ä¸è¦å†æ’åŒæ¨£çš„ç‰†ã€‚\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"double-signalingï¼š\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#double-signalingï¼š\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Double Signalingï¼š\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"åœ¨ç ”ç©¶ semaphore çš„ç¯„ä¾‹å°ˆæ¡ˆæ™‚ï¼Œæˆ‘å€‘ç™¼ç¾ç„¡æ³•é€éç›¸åŒçš„ identity é©—è­‰å…©æ¬¡ï¼Œé€™æ˜¯å› ç‚ºé˜²æ­¢ double signaling çš„å•é¡Œã€‚åœ¨ semaphore ä¸­æ˜¯é€é external nullifier ä¾†é™åˆ¶çš„ï¼Œå› æ­¤åªè¦æ¯æ¬¡å‚³å…¥ verify æ™‚éƒ½å‚³å…¥ä¸åŒçš„ external nullifier ä¾¿å¯ä»¥å®Œæˆã€Œ\", _jsx(_components.strong, {\n        children: \"åŒä¸€çµ„ identity é‡è¤‡çš„é©—è­‰\"\n      }), \"ã€ã€‚\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"groupidï¼š\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#groupidï¼š\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"GroupIdï¼š\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"åœ¨å»ºç«‹ group æ™‚ï¼Œéœ€è¦å‚³å…¥ groupIdã€‚ä½†å¸¸å¸¸å‚³å…¥çš„ groupId å·²ç¶“è¢«åˆ¥äººç”¨éäº†ï¼Œå› æ­¤éœ€è¦æ‰¾åˆ°ä¸€çµ„åˆ¥äººæ²’ä½¿ç”¨éçš„ groupIdã€‚\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"merkle-rootï¼š\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#merkle-rootï¼š\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Merkle Rootï¼š\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"åŸæœ¬æˆ‘å€‘åƒç…§ \", _jsx(_components.code, {\n        children: \"Bolierplate\"\n      }), \"ï¼Œå…¶ä¸­ä½¿ç”¨ \", _jsx(_components.code, {\n        children: \"generateProof()\"\n      }), \" ä¾†ç”¢ç”Ÿ proofã€merkleTreeRootã€nullifierHash ç­‰ã€‚\\n\", _jsxs(_components.em, {\n        children: [\"in \", _jsx(_components.a, {\n          href: \"https://github.com/semaphore-protocol/boilerplate/blob/main/apps/web-app/src/pages/proofs.tsx#L65\",\n          children: \"Boilerplate/apps/web-app/src/pages/proof.tsx\"\n        })]\n      }), \"ï¼š\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-javascript\",\n      children: _jsxs(_components.code, {\n        className: \"language-javascript code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \" proof\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" merkleTreeRoot\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" nullifierHash \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword control-flow\",\n            children: \"await\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"generateProof\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  _identity\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  group\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  env\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token constant\",\n            children: \"GROUP_ID\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"  feedbackBytes32\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ä½†å¯¦æ¸¬å¾Œç™¼ç¾å®ƒå›å‚³çš„ MerkleRoot æ˜¯éŒ¯çš„ï¼Œå› æ­¤ä½¿ç”¨ä¸Šä¸€æ®µçš„æ–¹æ³•ã€‚\"\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"çµè«–\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#çµè«–\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"çµè«–\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"é›–ç„¶åœ¨å·²ç¶“é–‹æ”¾å¾Œçš„å°ç£ï¼ŒzkVaxCard ä¼¼ä¹æœ‰é»éæ™‚ï¼Œä½†æ˜¯æˆ‘èªçˆ²å®ƒä¹Ÿå¯ä»¥æ‡‰ç”¨åœ¨ä¸€äº›å…¶ä»–çš„é ˜åŸŸï¼Œåƒæ˜¯è²¡ç”¢è­‰æ˜ã€ä¿®èª²è­‰æ›¸ã€èƒ½åŠ›è­‰æ›¸ã€æœƒå“¡åˆ¶åº¦ç­‰ã€‚å¯ä»¥ä¸æ´©æ¼ä½¿ç”¨è€…çš„éš±ç§ï¼ˆåƒæ˜¯éŠ€è¡Œå¸³è™Ÿï¼‰ï¼Œæå‡ºå…·æœ‰å…¬ä¿¡åŠ›çš„è­‰æ˜ã€‚\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"å¦å¤–æˆ‘èªç‚º password æ›´å®‰å…¨çš„åšæ³•æ˜¯åˆ©ç”¨ä¸€çµ„ EdDSA/EcDSA ç”¢ç”Ÿçš„ç§é‘°ï¼Œå°‡è‡ªå·±è¨­å®šçš„å¯†ç¢¼åšç°½ç« ï¼Œä¸¦å°‡æ­¤ä½œç‚º seedï¼Œä½†æ˜¯åœ¨é–‹ç™¼ä¸Šå¯èƒ½é ˆè€ƒæ…®\", _jsx(_components.strong, {\n        children: \"ä¾¿åˆ©æ€§å•é¡Œ\"\n      }), \"ï¼ˆå¦‚ä½¿ç”¨è€…éœ€è¦è¨˜ä½çš„æ±è¥¿æœ‰å¤šå°‘ï¼‰ï¼Œæ‰èƒ½\", _jsx(_components.strong, {\n        children: \"çœŸæ­£è®“é€™äº›æ‡‰ç”¨å¯¦æ–½åœ¨ç¾å¯¦ç”Ÿæ´»ä¸­\"\n      }), \"ã€‚\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"references\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#references\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"References\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://medium.com/swf-lab/zk-app-client-implementation-with-semaphore-431e49dc32b8\",\n          children: \"ZK-App Client Implementation with Semaphore\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{"title":"zkVaxCard","description":"zkVaxCard æ˜¯ä¸€å€‹å¯ä»¥å¹«åŠ©äººå€‘åœ¨ã€Œä¸æ­éœ²ä»»ä½•å€‹äººè³‡è¨Šå¦‚èº«åˆ†è­‰å­—è™Ÿã€å€‹äººç…§ç‰‡æˆ–å¥ä¿å¡å¡è™Ÿã€ä¹‹æƒ…æ³ä¸‹ã€Œè­‰æ˜è‡ªå·±æœ‰æ¥ç¨®éç–«è‹—ã€ä¹‹ç³»çµ±ï¼Œä»¥ React.js ç‚ºå‰ç«¯é–‹ç™¼çš„æ¡†æ¶ã€json-server ä½œç‚ºä¸€å€‹éå¸¸è‡¨æ™‚çš„å¾Œç«¯è³‡æ–™åº«ï¼Œä¸¦ä»¥ Semaphore protocol ä½œç‚ºå…¶èƒŒå¾Œçš„é›¶çŸ¥è­˜è­‰æ˜æŠ€è¡“","date":"2023-02-08"}},"frontMatter":{"title":"zkVaxCard","description":"zkVaxCard æ˜¯ä¸€å€‹å¯ä»¥å¹«åŠ©äººå€‘åœ¨ã€Œä¸æ­éœ²ä»»ä½•å€‹äººè³‡è¨Šå¦‚èº«åˆ†è­‰å­—è™Ÿã€å€‹äººç…§ç‰‡æˆ–å¥ä¿å¡å¡è™Ÿã€ä¹‹æƒ…æ³ä¸‹ã€Œè­‰æ˜è‡ªå·±æœ‰æ¥ç¨®éç–«è‹—ã€ä¹‹ç³»çµ±ï¼Œä»¥ React.js ç‚ºå‰ç«¯é–‹ç™¼çš„æ¡†æ¶ã€json-server ä½œç‚ºä¸€å€‹éå¸¸è‡¨æ™‚çš„å¾Œç«¯è³‡æ–™åº«ï¼Œä¸¦ä»¥ Semaphore protocol ä½œç‚ºå…¶èƒŒå¾Œçš„é›¶çŸ¥è­˜è­‰æ˜æŠ€è¡“","date":"2023-02-08"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"ZKPlayground"},"buildId":"fPKTQDa0a-U9S5M31bDk1","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>